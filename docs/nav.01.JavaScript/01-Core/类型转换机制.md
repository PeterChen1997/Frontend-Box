# 类型转换机制

虽然变量的数据类型是不确定的，但是各种运算符对数据类型是有要求的，如果运算子的类型与预期不符合，就会触发类型转换机制

常见的类型转换有：

- 强制转换（显示转换）
- 自动转换（隐式转换）

## 显示转换

- Number

![图 8](https://peterchen97.coding.net/p/img2/d/test/git/raw/master/69de904c60156a69bd62df7059ace6a2ba6d65130769f00d2711753928bbae02.png)  

- parseInt
  - 遇到无法转换的字符则暂停
- String
  
![图 9](https://peterchen97.coding.net/p/img2/d/test/git/raw/master/3122be2c95ae45c3dcfad88657a7530d7ff7b9a9183dd47e682bf70a14669fab.png)  

- Boolean

## 隐式转换

- 比较运算（==、!=、>、<）、if、while需要布尔值地方
- 算术运算（+、-、*、/、%）

## 补充

### == 和 === 的区别

- 等于操作符（==）在比较中会先进行类型转换，再确定操作数是否相等
- 全等操作符由 3 个等于号（ === ）表示，只有两个操作数在不转换的前提下相等才返回 true。即类型相同，值也需相同

如果一个操作数是对象，另一个操作数不是，则调用对象的 valueOf()方法取得其原始值，再根据前面的规则进行比较

下面进一步做个小结：

- 两个都为简单类型，字符串和布尔值都会转换成数值，再比较
- 简单类型与引用类型比较，对象转化成其原始类型的值，再比较
- 两个都为引用类型，则比较它们是否指向同一个对象
- null 和 undefined 相等
- 存在 NaN 则返回 false
