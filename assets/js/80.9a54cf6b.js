(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{460:function(t,v,_){"use strict";_.r(v);var l=_(29),e=Object(l.a)({},(function(){var t=this,v=t.$createElement,_=t._self._c||v;return _("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[_("h1",{attrs:{id:"断点续传"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#断点续传"}},[t._v("#")]),t._v(" 断点续传")]),t._v(" "),_("blockquote",[_("p",[_("a",{attrs:{href:"https://vue3js.cn/interview/JavaScript/continue_to_upload.html#%E4%B8%80%E3%80%81%E6%98%AF%E4%BB%80%E4%B9%88",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://vue3js.cn/interview/JavaScript/continue_to_upload.html#一、是什么"),_("OutboundLink")],1)])]),t._v(" "),_("p",[t._v("上传大文件时，以下几个变量会影响我们的用户体验")]),t._v(" "),_("ul",[_("li",[t._v("服务器处理数据的能力")]),t._v(" "),_("li",[t._v("请求超时")]),t._v(" "),_("li",[t._v("网络波动")])]),t._v(" "),_("p",[t._v("这里涉及到分片上传及断点续传两个概念")]),t._v(" "),_("ul",[_("li",[t._v("分片\n"),_("ul",[_("li",[t._v("上传完之后再由服务端对所有上传的文件进行汇总整合成原始的文件")])])]),t._v(" "),_("li",[t._v("断点续传\n"),_("ul",[_("li",[t._v("断点续传指的是在下载或上传时，将下载或上传任务人为的划分为几个部分")]),t._v(" "),_("li",[t._v("每一个部分采用一个线程进行上传或下载，如果碰到网络故障，可以从已经上传或下载的部分开始继续上传下载未完成的部分，而没有必要从头开始上传下载。用户可以节省时间，提高速度")]),t._v(" "),_("li",[t._v("一般实现方式有两种：\n"),_("ul",[_("li",[t._v("服务器端返回，告知从哪开始")]),t._v(" "),_("li",[t._v("浏览器端自行处理")])])])])])]),t._v(" "),_("h2",{attrs:{id:"实现思路"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实现思路"}},[t._v("#")]),t._v(" 实现思路")]),t._v(" "),_("p",[t._v("整体思路比较简单，拿到文件")]),t._v(" "),_("ul",[_("li",[t._v("保存文件唯一性标识")]),t._v(" "),_("li",[t._v("切割文件")]),t._v(" "),_("li",[t._v("分段上传")]),t._v(" "),_("li",[t._v("每次上传一段，根据唯一性标识判断文件上传进度")]),t._v(" "),_("li",[t._v("直到文件的全部片段上传完毕")])])])}),[],!1,null,null,null);v.default=e.exports}}]);