(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{481:function(v,_,t){"use strict";t.r(_);var a=t(29),i=Object(a.a)({},(function(){var v=this,_=v.$createElement,t=v._self._c||_;return t("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[t("h1",{attrs:{id:"angular"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#angular"}},[v._v("#")]),v._v(" Angular")]),v._v(" "),t("h2",{attrs:{id:"脏检测"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脏检测"}},[v._v("#")]),v._v(" 脏检测")]),v._v(" "),t("p",[v._v("Angular 采用“脏值检测”的方式")]),v._v(" "),t("ul",[t("li",[v._v("数据发生变更后，对于所有的数据和视图的绑定关系进行一次检测，识别是否有数据发生了改变")]),v._v(" "),t("li",[v._v("有变化进行处理，可能进一步引发其他数据的改变，所以这个过程可能会循环几次")]),v._v(" "),t("li",[v._v("一直到不再有数据变化发生后，将变更的数据发送到视图，更新页面展现")])]),v._v(" "),t("p",[v._v("可以试用 "),t("code",[v._v("runWithoutChangeDetection")]),v._v(" 避开脏检测")]),v._v(" "),t("p",[v._v("这些操作会触发脏检测")]),v._v(" "),t("ul",[t("li",[v._v("DOM事件，譬如用户输入文本，点击按钮等。( ng-click )")]),v._v(" "),t("li",[v._v("XHR响应事件 ( $http )")]),v._v(" "),t("li",[v._v("浏览器Location变更事件 ( $location )")]),v._v(" "),t("li",[v._v("Timer事件( interval )")]),v._v(" "),t("li",[v._v("执行 apply()")])]),v._v(" "),t("h3",{attrs:{id:"变更检测策略"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#变更检测策略"}},[v._v("#")]),v._v(" 变更检测策略")]),v._v(" "),t("ul",[t("li",[v._v("OnPush\n"),t("ul",[t("li",[v._v("这种更改检测策略可以 "),t("strong",[v._v("跳过对此组件及其所有子组件的不必要检查")])]),v._v(" "),t("li",[v._v("使用此策略，Angular知道仅在以下情况下才需要更新组件：\n"),t("ul",[t("li",[v._v("输入属性已更改, 标记为@Input() 的属性；")]),v._v(" "),t("li",[v._v("该组件或其子组件之一触发事件处理程序")]),v._v(" "),t("li",[v._v("手动触发变化检测")]),v._v(" "),t("li",[v._v("通过异步管道链接到模板的可观察对象发出新值， 如 data | async")])])])])]),v._v(" "),t("li",[v._v("Default\n"),t("ul",[t("li",[v._v("每当事件触发更改检测（例如用户事件，计时器，XHR，promise等）时，此默认策略都会从上到下检查组件树中的每个组件。这种不对组件的依赖项做任何假设的保守检查方法称为脏检查。它可能会对包含许多组件的大型应用程序的性能产生负面影响。")])])])]),v._v(" "),t("h3",{attrs:{id:"脏检测原理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#脏检测原理"}},[v._v("#")]),v._v(" 脏检测原理")]),v._v(" "),t("ul",[t("li",[v._v("$watch\n"),t("ul",[t("li",[v._v("渲染初始化时，通过 $watch 绑定变量")])])]),v._v(" "),t("li",[v._v("$digest\n"),t("ul",[t("li",[v._v("用户执行操作后，NG 会调用 $digest 触发遍历递归")]),v._v(" "),t("li",[v._v("判断 watchers 里面记录的那些 $scope属性是否有变化")]),v._v(" "),t("li",[v._v("根据objectEquality进行新老值的对比")]),v._v(" "),t("li",[v._v("当有变化的时候，dirty被设置为true，在 $digest执行结束的时候，它会再检查dirty，如果dirty为true，它会再调用自己，直到dirty为true")]),v._v(" "),t("li",[v._v("但是为了防止死循环，angular规定，当递归发生了10次或以上时，直接抛出一个错误，并跳出循环")])])]),v._v(" "),t("li",[v._v("$apply\n"),t("ul",[t("li",[v._v("手动触发 digest")])])])]),v._v(" "),t("h2",{attrs:{id:"生命周期"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[v._v("#")]),v._v(" 生命周期")]),v._v(" "),t("p",[t("img",{attrs:{src:"https://peterchen97.coding.net/p/img2/d/test/git/raw/master/7996f71ac9561a8f960783cd2d47384d1da95f6a8ac09b6270470ddf0194646b.png",alt:"图 4"}})]),v._v(" "),t("ul",[t("li",[v._v("ngOnChanges")]),v._v(" "),t("li",[v._v("ngOnInit")]),v._v(" "),t("li",[v._v("ngDoCheck")]),v._v(" "),t("li",[v._v("Render")]),v._v(" "),t("li",[v._v("ngAfterViewInit")]),v._v(" "),t("li",[v._v("ngAfterViewChecked")])]),v._v(" "),t("h2",{attrs:{id:"常见问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常见问题"}},[v._v("#")]),v._v(" 常见问题")]),v._v(" "),t("h3",{attrs:{id:"key-在-ng-中较-trackby"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#key-在-ng-中较-trackby"}},[v._v("#")]),v._v(" key 在 ng 中较 trackBy")]),v._v(" "),t("h2",{attrs:{id:"优缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优缺点"}},[v._v("#")]),v._v(" 优缺点")]),v._v(" "),t("h3",{attrs:{id:"优点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#优点"}},[v._v("#")]),v._v(" 优点")]),v._v(" "),t("ul",[t("li",[v._v("代码一致性较高")]),v._v(" "),t("li",[v._v("依赖注入很方便")]),v._v(" "),t("li",[v._v("async pipe 很方便")])]),v._v(" "),t("h3",{attrs:{id:"缺点"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#缺点"}},[v._v("#")]),v._v(" 缺点")]),v._v(" "),t("ul",[t("li",[v._v("版本迭代问题")]),v._v(" "),t("li",[v._v("上手成本问题\n"),t("ul",[t("li",[v._v("rxjs\n"),t("ul",[t("li",[v._v("subject")]),v._v(" "),t("li",[v._v("observable")]),v._v(" "),t("li",[v._v("subscribe")]),v._v(" "),t("li",[v._v("...")])])]),v._v(" "),t("li",[v._v("typescript")]),v._v(" "),t("li",[v._v("内部概念\n"),t("ul",[t("li",[v._v("module")]),v._v(" "),t("li",[v._v("DI")]),v._v(" "),t("li",[v._v("...")])])])])]),v._v(" "),t("li",[v._v("debug 成本高")]),v._v(" "),t("li",[v._v("vscode ide 支持较差")])])])}),[],!1,null,null,null);_.default=i.exports}}]);